kind: ConfigMap
apiVersion: v1
metadata:
  name: cloud-jpa
  namespace: study
data:
  application.yml: |-
    spring:
      application:
        name: toolkit-jpa
      autoconfigure:
        exclude: org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration
      datasource:
        password: ${DB_PASSWORD}
        url: ${DB_URL}
        username: ${DB_USER}
        hikari:
          connection-timeout: 20000
          minimum-idle: 1
          maximum-pool-size: 10
          idle-timeout: 30000
          max-lifetime: 1000
      jpa:
        generate-ddl: true
        hibernate:
          ddl-auto: update
        show-sql: true
      profiles:
        active: kubernetes
    springdoc:
      swagger-ui:
        path: /swagger-ui.html
    server:
      servlet:
        context-path: /toolkit-jpa
    management:
      endpoint:
        health:
          probes:
            enabled: true